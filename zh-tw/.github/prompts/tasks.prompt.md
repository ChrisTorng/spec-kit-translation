---
description: 根據可用的設計成品，為此功能生成一份可操作且依賴性有序的 tasks.md 檔案。
---

提供給您的使用者輸入可由代理程式直接提供或作為命令引數提供 – 在繼續提示之前，您**務必**考慮這些輸入（如果非空）。

使用者輸入:

$ARGUMENTS

1. 從儲存庫根目錄執行 `.specify/scripts/bash/check-prerequisites.sh --json`，並解析 FEATURE_DIR 和 AVAILABLE_DOCS 列表。所有路徑都必須是絕對路徑。
2. 載入並分析可用的設計文件：
   - 總是閱讀 plan.md 以了解技術堆疊和函式庫
   - 如果存在：閱讀 data-model.md 以了解實體
   - 如果存在：閱讀 contracts/ 以了解 API 端點
   - 如果存在：閱讀 research.md 以了解技術決策
   - 如果存在：閱讀 quickstart.md 以了解測試情境

   請注意：並非所有專案都包含所有文件。例如：
   - CLI 工具可能沒有 contracts/
   - 簡單的函式庫可能不需要 data-model.md
   - 根據可用的內容生成任務

3. 依照範本產生任務：
   - 使用 `.specify/templates/tasks-template.md` 作為基礎
   - 根據以下內容，將範例任務替換為實際任務：
     * **設定任務**：專案初始化、依賴項、程式碼風格檢查
     * **測試任務 [P]**：每個契約一個、每個整合情境一個
     * **核心任務**：每個實體、服務、CLI 命令、端點一個
     * **整合任務**：資料庫連線、中介軟體、日誌記錄
     * **優化任務 [P]**：單元測試、效能、文件

4. 任務生成規則：
   - 每個契約檔案 → 標記為 [P] 的契約測試任務
   - data-model 中的每個實體 → 標記為 [P] 的模型建立任務
   - 每個端點 → 實作任務（如果共用檔案則不平行）
   - 每個使用者故事 → 標記為 [P] 的整合測試
   - 不同檔案 = 可平行 [P]
   - 相同檔案 = 循序（無 [P]）

5. 依賴項順序排列任務：
   - 設定先於一切
   - 測試先於實作 (TDD)
   - 模型先於服務
   - 服務先於端點
   - 核心先於整合
   - 一切先於優化

6. 包含平行執行範例：
   - 將可同時執行的 [P] 任務分組
   - 顯示實際的 Task 代理程式命令

7. 在 FEATURE_DIR/tasks.md 中建立以下內容：
   - 實作計畫中正確的功能名稱
   - 編號任務 (T001, T002 等)
   - 每個任務的清晰檔案路徑
   - 依賴項備註
   - 平行執行指南

產生任務的背景內容：$ARGUMENTS

tasks.md 應該能夠立即執行 – 每個任務都必須足夠具體，以便大型語言模型 (LLM) 無需額外上下文即可完成。